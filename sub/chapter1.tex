\chapter{導入}
\section{研究背景, 目的}\label{section:Introduction}
本研究は, ペンシルパズルのパズルルール（以下パズルルール）の自動作成に対する課題を解決するためのものである. 本論文ではHerting \cite{Herting2004}が行ったようにパズルルールを数学的な定義を行い, その定義を用いて新規のパズルルールを提案した. 研究の調査段階においてはパズルルールを0から生成した例が確認されていない．本研究に近しいものとしてBrowne-Maire \cite{Browne2010}は二人有限確定完全情報ゲームを既存のゲームから組み合わせて生成した. しかし, この研究は0からゲームルールを生成したものではなく, また工学的手法で生成しているという点で本研究とは異なる. また, 多くの研究（
% 岩下-川原-湊-斎藤-津村-吉仲
Iwashita-Kawahara-Minato-Tsumura-Yoshinaka
\cite{Yoshinaka2012}やKoljonen-Mantere \cite{Mantere2007}）にてあるパズルルールが存在したとき, そのパズルルールに則った問題を作成した先行研究が多数確認されている. しかし, こちらはパズルルールの作成ではなく, パズルルールに則った具体的な問題を生成するものであり, 研究としては異なるものである. Herting	 \cite{Herting2004}の研究はスリザーリンクというパズルにおいてのみパズルの盤面と, それが満たすべき条件を数学的に定義し, 問題を効率的に解くためのrule-based approachを行ったものである. これも上記の例と同様に, 本研究とは主旨が異なるものである.

本研究は, 先行研究では行われていないパズルルールの自動作成に対する課題を解決するための研究である. この研究により, 関連する分野における問題解決における価値を提供することができる. 具体的には, 商業用ゲームへの移植や, ネットワークセキュリティへの応用などが考えられる. Haahr-de Kegel \cite{Barbara2020}は「プレイヤーはゲームをプレイする際に, 同じゲーム性の繰り返しからいわゆるマンネリ化を感じる傾向にあるところを, パズルを導入すれば緩和できる」と述べている. さらに, Liang-Xiao \cite{Liang2013}はネットワークセキュリティに対する問題をゲーム理論的アプローチで考察している. パズルはゲーム理論と密接な関係にあり, 	本研究はこれら分野への応用が期待される.

\section{定義}\label{section:IntroDefinition}
ペンシルパズルとは「サイズ$m\times n$の平面グリッド上に存在する概念や状態に対し, 盤面が満たされるべき条件を提示した問題や, それらに付随する概念」とし, パズルルールとは, その問題を作成するための制約とする. 本研究ではまず, グリッド上の格子点, 細胞, 縦辺, 横辺という四つの概念を\textbf{位置}という用語を用いて数学的に定義した（\cref{figure:Board}）. そして, それぞれの位置には未知と既知という\textit{状態}が存在し, それらには具体的な値として与えられることについて言及を行った. その値が含まれる集合を以下で定義する.
\begin{definition}[\textit{codomain}]
  位置に対応する状態がとりうる集合のことを\textbf{\textit{codomain}}と定義する.
\end{definition}
それらを定義したとき, 盤面が$B\coloneqq\Bigl\{\,\{\,p_{i,j}\,\},\{\,c_{i,j}\,\},\{\,e_{i_y,j_y,y}\,\}\,\Bigr\}$と数学的な記述が可能になることを示した. ただし, $\Bigl\{\,\{\,p_{i,j}\,\},\{\,c_{i,j}\,\},\{\,e_{i_y,j_y,y}\,\}\,\Bigr\}$は各位置の状態の列である. そして, パズルルールにおいて盤面が満たすべき条件を以下で定義する.
\begin{definition}[\textit{conditions}]
  全ての位置の状態が既知である盤面を与えたとき, 盤面にある全ての状態が満たしているべき条件を\textbf{\textit{conditions}}と定義する.
\end{definition}
これを用いて, パズルの問題の完成盤面がこの組み合わせで全て記述できることを示した. ただし, \cref{chapter:Prepare}以降では問題と完成盤面という用語をさらに厳密に定義する. さらに, パズルルールには問題が存在する. そこで, 完成盤面から問題を作成するために以下二つの定義を導入する. 完成盤面から状態を隠すことで問題を作るための概念としてHIを導入する. また、問題においては状態が未知であることと, 既知である状態がソルバーに同一の状態として示される（\cref{figure:SlitherLink}では辺が書かれていない状態と, 未知であることがソルバーに同一の状態として示されている）. その対応を\textit{identification}として導入する. これら二つを以下で定義する.
\begin{definition}[\textit{Hidden Information}（HI）]
  ある完成盤面があったとき, ソルバーから隠す位置の部分集合を\textbf{\textit{Hidden Information}（HI）}と定義する.
\end{definition}
\begin{definition}[\textit{identification}]
  未知の状態と, 既知の状態の具体的な値がソルバーに同一の状態として伝えられるその対応を\textbf{\textit{identification}}として定義する.
\end{definition}

\section{主結果}
\cref{section:IntroDefinition}で定義した四つの定義を用いて, パズルルールがそれら\textit{codomain}, \textit{conditions}, HI, \textit{identification}の組み合わせで定義されることを主張した（\cref{definition:PuzzleRule}）. この定義を用いることで, 既存のパズルルールが本論文でのパズルルールに従っていることを示した（\cref{section:ExistsPuzzleRule}）. さらに, 本論文で触れられている\textit{conditions}の具体的な構成方法（\cref{section:ConcreteConditions}）に従うことで新規のパズルルールを作成できることを示した（\cref{section:NewPuzzleRule}）. 本論文で触れられている\textit{conditions}の構成方法はほんの一部である. さらに既存のパズルルールから\textit{conditions}を抽出することにより新たなパズルルールを作成することができる. 本論文では\textit{conditions}の構成方法のみに触れているが, HIの構成を変えることでパズルルールが大きく変わることも検証段階では確認されている.

この研究の応用先として, 既存のパズルルールを本論文での定義に当てはめ, 精査することにより各パズルルールがどのような性質を持っているかを体系的に整理することができる. また, その性質を分類, 抽象化することにより, それらの性質を持った新規のパズルルールを機械的に作成することが期待される. これはパズルルールの自動作成にかなり近いものである. また, 藤原 \cite{Fujiwara2022}が述べている既存のパズルルールに関する記述（\cref{theorem:AutoGeneration}）を本研究のパズルルールに適用できる条件を解明することができれば, パズルルールを自動作成したのちに具体的な問題を多数作成することも可能になる. これらを実現すれば, \cref{section:Introduction}で触れた他分野への応用への実現も期待される.